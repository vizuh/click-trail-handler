Changelog
========


= 1.2.0 =
*   **Security**: Hardened AJAX handlers with strict WhatsApp URL validation and optimized PII risk logging using nonce verification and state checks.
*   **Feature**: Introduced Custom Database Table (`wp_clicutcl_events`) for scalable event logging, removing reliance on Custom Post Types.
*   **Feature**: Implemented REST API Log Endpoint (`/wp-json/clicutcl/v1/log`) for faster and lighter tracking requests.
*   **Refactor**: Major architectural improvements including Namespaced Admin class, decoupled AJAX Log Handler, and extracted CPT registration.
*   **Refactor**: Standardized Integrations (WooCommerce & Forms) into namespaced classes (`CLICUTCL\Integrations`).
*   **Feature**: Added Admin Log Viewer (`ClickTrail > Logs`) to view events from the custom database table.
*   **Feature**: Implemented Automated Database Cleanup (Cron) to keep the events table healthy.
*   **Refactor**: Centralized settings logic (`Atribution_Settings`) and Attribution Utilities (`Utils\Attribution`) for better maintainability.
*   **Fix**: Fixed GTM Data Layer variables for Scroll Tracking (now sends `scroll_depth_threshold`, `scroll_depth_units`, `scroll_direction`).
*   **Fix**: Improved Time on Page tracking to send explicit `time_on_page_seconds` metric.

= 1.1.1 =
*   Refreshed readme copy and release guidance to align WordPress.org listing with latest documentation.
*   Prepared for updated screenshots/assets to keep plugin visuals accurate.

= 1.1.0 =
*   Added comprehensive Event Tracking (Searches, Downloads, Scroll Depth, Time on Page).
*   Added Server-side Event Tracking for User Login, Signups, and Comments.
*   Implemented Google Consent Mode v2 support with region-specific defaults.
*   Added manual Google Tag Manager (GTM) Container ID injection.
*   Refactored codebase for better modularity and performance.
*   Enhanced WooCommerce integration with "Source" column and detailed meta box.

= 1.0.0 =
*   Initial release with attribution capture, consent banner, and integrations for WooCommerce, Contact Form 7, Fluent Forms, and WhatsApp.
